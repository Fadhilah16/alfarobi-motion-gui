<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> -->
  <link href="./bootstrap-5.0.2-dist\css\bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
  <link href="./style.css" rel="stylesheet" crossorigin="anonymous" />
  <link rel="icon" type="image/x-icon" href="/assets/alfarobi-icon.JPG">
  <!-- <script type="text/javascript" src="./roslib.min.js" ></script> -->
  <script type="text/javascript" src="./roslib.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/roslibjs/1.1.0/roslib.min.js" integrity="sha512-x2Owc9WayRcRj80Znkau58shVfXN2OIX+gQAlrx6KPugZBKrIC6AwgEWQQCI06p2Q8RB4ilxD+y+1BdNd+1fQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
  <script type="text/javascript" src="./jquery-3.6.0.min.js"></script>
  <title>ALFAROBI MOTION</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand d-inline-block" href="#">
        <img src="/assets/alfarobi-logo.jpeg" alt="" width="50px" height="50px"
          style="object-fit: cover; border-radius: 3px" class="d-inline-block align-text-top" />
        <strong style="
              font-size: 30px;
              align-self: flex-end;
              vertical-align: bottom;
            ">GUI DEMO</strong>
      </a>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link" aria-current="page" id="quintic-nav" href="#">
            <h5>Quintic Walk</h5>
          </a>
          <a class="nav-link" id="kicking-nav" href="#">
            <h5>Kicking</h5>
          </a>
          <a class="nav-link" id="head-nav" href="#">
            <h5>Head Module</h5>
          </a>
        </div>
      </div>
      <button class="btn btn-dark" onclick="initialPose()" style="margin-right: 5px !important" type="button">
        <strong> Initial Pose</strong>
      </button>
    </div>
    </div>
  </nav>

  <div class="container mt-2" id="motion-quintic">
      <div class="row">
        <div class="col-4">
          <div class="card text-white bg-dark mb-3" style="width: 100%">
            <div class="card-header text-center"><h4>MOVE</h4></div>
            <div class="card-body">
              <table
                class="move-table table table-dark"
                align="center"
                style="width: 50%"
              >
                <tbody>
                  <tr>
                    <th scope="row">X</th>
                    <td>
                      <input
                        type="number"
                        step="0.001"
                        name="x_move"
                        id="x_move"
                        class="Input"
                        value="0.00"
                      />
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">Y</th>
                    <td>
                      <input
                        type="number"
                        step="0.001"
                        name="y_move"
                        id="y_move"
                        class="Input"
                        value="0.00"
                      />
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">Z</th>
                    <td>
                      <input
                        type="number"
                        step="0.001"
                        name="z_move"
                        id="z_move"
                        class="Input"
                        value="0.00"
                      />
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="mt-2" align="center">
                <button
                  class="btn btn-success"
                  onclick="startQuincticWalking()"
                  style="margin-right: 5px !important"
                  type="button"
                >
                  <strong> Start</strong>
                </button>
                <button
                  class="btn btn-danger"
                  onclick="stopQuinticWalking()"
                  style="margin-right: 5px !important"
                  type="button"
                >
                  <strong> Stop</strong>
                </button>
                <button class="btn btn-warning" onclick="resetQuinticParams()" type="button">
                  <strong> Reset </strong>
                </button>
              </div>
            </div>
          </div>
          <div class="button-set">
            <button
              class="btn btn-outline-dark"
              onclick="saveQuinticParams()"
              style="background-color: rgb(181, 255, 8)"
              type="button"
            >
              <strong>SAVE</strong>
            </button>

            <button
              class="btn btn-outline-light"
              onclick="applyQuinticParams()"
              style="background-color: rgb(247, 94, 34)"
              type="button"
            >
              <strong> Apply</strong>
            </button>

            <button
              class="btn btn-dark"
              onclick="setModeQuintic()"
              style="float: right;"
              type="button"
            >
              <strong> Quintic Mode</strong>
            </button>
          </div>
        </div>
        <div class="col-4">
          <div class="card text-white mb-3" style="width: 100%">
            <div class="card-header text-center"><h4>SET</h4></div>
            <div class="card-body">
              <table class="move-table table text-white" align="center">
                <tbody>
                  <tr>
                    <th scope="row">Frequency</th>
                    <td>
                      <input
                        type="number"
                        step="0.001"
                        name="freq"
                        id="freq"
                        class="Input"
                        value="0.00"
                      />
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">Double Support Ratio</th>
                    <td>
                      <input
                        type="number"
                        step="0.001"
                        name="double_support_ratio"
                        id="double_support_ratio"
                        class="Input"
                        value="0.00"
                      />
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="col-4 bg-nav-link">
 
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <button
                class="nav-link active"
                id="nav-trunk-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-trunk"
                type="button"
                role="tab"
                aria-controls="nav-trunk"
                aria-selected="true"
              >
                <strong>trunk</strong>
              </button>
              <button
                class="nav-link"
                id="nav-foot-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-foot"
                type="button"
                role="tab"
                aria-controls="nav-foot"
                aria-selected="false"
              >
                <strong>foot</strong>
              </button>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div
              class="tab-pane fade show active"
              id="nav-trunk"
              role="tabpanel"
              aria-labelledby="nav-trunk-tab"
            >
              <div class="card text-dark bg-light mb-3" style="width: 100%">
                <div class="card-header bg-light text-center">
                  <h4><strong>TRUNK</strong></h4>
                </div>
                <div class="card-body">
                  <table class="move-table table text-start" align="center">
                    <tbody>
                      <tr>
                        <th scope="row">Height</th>

                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="height"
                            id="height"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Pitch</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="pitch"
                            id="pitch"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Phase</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="phase"
                            id="phase"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">X offset</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="x_offset"
                            id="x_offset"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Y offset</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="y_offset"
                            id="y_offset"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Swing</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="swing"
                            id="swing"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Pause</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="pause"
                            id="pause"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div
              class="tab-pane fade"
              id="nav-foot"
              role="tabpanel"
              aria-labelledby="nav-foot-tab"
            >
              <div class="card text-dark bg-light mb-3" style="width: 100%">
                <div class="card-header bg-light text-center">
                  <h4><strong>FOOT</strong></h4>
                </div>
                <div class="card-body">
                  <table class="move-table table text-start">
                    <tbody>
                      <tr>
                        <th scope="row">Distance</th>

                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="distance"
                            id="distance"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Rise</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="rise"
                            id="rise"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Put Down Z Offset</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="put_down_z_offset"
                            id="put_down_z_offset"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Put Down Phase</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="put_down_phase"
                            id="put_down_phase"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Apex Phase</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="apex_phase"
                            id="apex_phase"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Overshoot Ratio</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="overshoot_ratio"
                            id="overshoot_ratio"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                      <tr>
                        <th scope="row">Overshoot Phase</th>
                        <td>
                          <input
                            type="number"
                            step="0.001"
                            name="overshoot_phase"
                            id="overshoot_phase"
                            class="Input"
                            value="0.00"
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


<div class="container mt-2 d-none" id="motion-kicking">
  <div class="row">
    <div class="col-4">
      <div class="card text-white mb-3 mt-2" style="width: 100%">
        <div class="card-header text-center">    
          <button style="width: 100%;height: 100px;background-color: rgb(255, 75, 75);" class="btn btn-outline-dark" onclick="leftKick()"> <h2> <strong>Left Kick </strong>  </h2></button>
        </div>
        <div class="card-body">
          <table class="move-table table text-white" align="center">
            <tbody>
              <tr>
                <th scope="row">L_Shift_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Shift_X"
                    id="L_Shift_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Shift_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Shift_Y"
                    id="L_Shift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Shift_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Shift_Z"
                    id="L_Shift_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Lift_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Lift_X"
                    id="L_Lift_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Lift_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Lift_Y"
                    id="L_Lift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Lift_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Lift_Z"
                    id="L_Lift_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
               <tr>
                <th scope="row">L_Swing_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Swing_X"
                    id="L_Swing_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
               <tr>
                <th scope="row">L_Swing_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Swing_Y"
                    id="L_Swing_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
               <tr>
                <th scope="row">L_Swing_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Swing_Z"
                    id="L_Swing_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Retract_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Retract_X"
                    id="L_Retract_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Retract_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Retract_Y"
                    id="L_Retract_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">L_Retract_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="L_Retract_Z"
                    id="L_Retract_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
        
    <div class="card text-white mb-3 mt-1" style="width: 100%">
      <div class="card-header text-center">
        <h4>TIME</h4>
      </div>
      <div class="card-body">
        <table class="move-table table text-white" align="center">
          <tbody>
            <tr>
              <th scope="row">SHIFT_TIME</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="SHIFT_TIME"
                  id="SHIFT_TIME"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">LIFT_TIME</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="LIFT_TIME"
                  id="LIFT_TIME"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">SWING_TIME</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="SWING_TIME"
                  id="SWING_TIME"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">RETRACT_TIME</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="RETRACT_TIME"
                  id="RETRACT_TIME"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">LANDING_TIME</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="LANDING_TIME"
                  id="LANDING_TIME"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">FINISHED_TIME</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="FINISHED_TIME"
                  id="FINISHED_TIME"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    </div>
    <div class="col-4">
      <div align="center">
        <button class="btn btn-success mt-2" style="width: 80%;height: 50px;" onclick="setModeKicking()"> <h4><strong>  Kicking Mode </strong></h4> </button>
        <button class="btn btn-danger mt-2" style="width: 80%;height: 50px;"onclick="stopKicking()"> <h4><strong>  Stop </strong></h4></button>
        <button class="btn btn-info mt-2" style="width: 80%;height: 50px;" onclick="refreshKickingParams()"> <h4><strong>  Refresh </strong></h4></button>
        <button class="btn btn-secondary mt-2" style="width: 80%;height: 50px;" onclick="applyKickingParams()"> <h4><strong>  Apply </strong></h4></button>
        <button class="btn btn-primary mt-2" style="width: 80%;height: 50px;" onclick="saveKickingParams()"> <h4><strong>  Save </strong></h4></button>
        
      </div>
      <div class="card text-white mb-3 mt-2 mid" style="width: 100%">
        <div class="card-body">
          <table class="move-table table text-white" align="center">
            <tbody>
              <tr>
                <th scope="row">Torso_Pitch</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Torso_Pitch"
                    id="Torso_Pitch"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Shift_Roll</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Shift_Roll"
                    id="Shift_Roll"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Lift_Roll</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Lift_Roll"
                    id="Lift_Roll"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Lift_Pitch</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Lift_Pitch"
                    id="Lift_Pitch"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Swing_Roll</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Swing_Roll"
                    id="Swing_Roll"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Swing_Roll</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Swing_Roll"
                    id="Swing_Roll"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Swing_Pitch</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Swing_Pitch"
                    id="Swing_Pitch"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">Retract_Roll</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Retract_Roll"
                    id="Retract_Roll"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
               <tr>
                <th scope="row">Retract_Pitch</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="Retract_Pitch"
                    id="Retract_Pitch"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
    <div class="col-4">
      <div class="card text-white mb-3 mt-2" style="width: 100%">
        <div class="card-header text-center">    
          <button style="width: 100%;height: 100px; background-color: rgb(108, 195, 253);" class="btn btn-outline-dark" onclick="rightKick()" > <h2> <strong>Right Kick </strong> </h2></button>
        </div>
        <div class="card-body">
          <table class="move-table table text-white" align="center">
            <tbody>
              <tr>
                <th scope="row">R_Shift_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Shift_X"
                    id="R_Shift_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Shift_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Shift_Y"
                    id="R_Shift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Shift_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Shift_Z"
                    id="R_Shift_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Lift_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Lift_X"
                    id="R_Lift_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Lift_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Lift_Y"
                    id="R_Lift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Lift_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Lift_Z"
                    id="R_Lift_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Swing_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Swing_X"
                    id="R_Swing_X"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Swing_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Swing_Y"
                    id="R_Swing_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Swing_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Swing_Z"
                    id="R_Swing_Z"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Retract_X</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Lift_Y"
                    id="R_Lift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Retract_Y</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Lift_Y"
                    id="R_Lift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>
              <tr>
                <th scope="row">R_Retract_Z</th>
                <td>
                  <input
                    type="number"
                    step="0.001"
                    name="R_Lift_Y"
                    id="R_Lift_Y"
                    class="Input"
                    value="0.00"
                  />
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
        
    <div class="card text-white mb-3 mt-1" style="width: 100%">
      <div class="card-body">
        <table class="move-table table text-white" align="center">
          <tbody>
            <tr>
              <th scope="row">Torso_X</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="Torso_X"
                  id="Torso_X"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">Torso_Y</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="Torso_Y"
                  id="Torso_Y"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">Torso_Z</th>
              <td>
                <input
                  type="number"
                  step="0.001"
                  name="Torso_Z"
                  id="Torso_Z"
                  class="Input"
                  value="0.00"
                />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    </div>
  </div>
</div>

  <div class="container mt-2 d-none" id="motion-head">
    <div class="row">
      <div class="mb-2" onclick="setModeHeadModule()">
        <button class="btn btn-success">
          Head Module Mode
        </button>

      </div>
      <div class="bg-light">

        <div>
          <label for="head_pan_slider" class="form-label" id="head_pan_label"> <strong> Head Pan</strong></label>
          <span class="badge rounded-pill bg-warning text-dark"  id="head_pan_value"></span>
        </div>

        <div class="d-flex " id="head_pan_range">

          <h6>-90&nbsp;</h6>
          <input type="range" class="form-range" min="-90" max="90" step="1" id="head_pan_slider">
          <h6>&nbsp;90</h6>
        </div>

      </div>

      <div class="bg-light mt-2">
        <label for="head_tilt_slider" class="form-label" id="head_tilt_label"> <strong> Head Tilt</strong></label>
        <span class="badge rounded-pill bg-warning text-dark"  id="head_tilt_value"></span>

        <div class="d-flex">
          <h6>-90&nbsp;</h6>
          <input type="range" class="form-range" min="-90" max="50" step="1" id="head_tilt_slider">
          <h6>&nbsp;50</h6>
        </div>
      </div>
    </div>

  </div>

  <script>
    $(document).ready(function () {
      $('#quintic-nav').addClass('active');
      // $('#motion-kicking').addClass('d-none');
      $('#head_pan_slider').val(0);
      $('#head_tilt_slider').val(0);
      $('#head_pan_value').html(0)
      $('#head_tilt_value').html(0)

    });

    $('#quintic-nav').click(function () {
      $('#quintic-nav').addClass('active');
      $('#motion-quintic').removeClass('d-none');
      $('#motion-kicking').addClass('d-none');
      $('#motion-head').addClass('d-none');
      $('#kicking-nav').removeClass('active');
      $('#head-nav').removeClass('active');
    });
    $('#kicking-nav').click(function () {
      $('#kicking-nav').addClass('active');
      $('#motion-kicking').removeClass('d-none');
      $('#motion-quintic').addClass('d-none');
      $('#motion-head').addClass('d-none');
      $('#quintic-nav').removeClass('active');
      $('#head-nav').removeClass('active');

    });

    $('#head-nav').click(function () {
      $('#head-nav').addClass('active');
      $('#motion-head').removeClass('d-none');
      $('#motion-kicking').addClass('d-none');
      $('#motion-quintic').addClass('d-none');
      $('#kicking-nav').removeClass('active');
      $('#quintic-nav').removeClass('active');
    });



  </script>

  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> -->
  <script src="./bootstrap-5.0.2-dist/js/bootstrap.bundle.js"></script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  <script type="text/javascript">
    //token github
    // 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
    // alfa : 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
    var ros = new ROSLIB.Ros({ url: "ws://0.0.0.0:9090" });
    const M_PI = 3.14159265358979323846;
    const DEGREE2RADIAN = M_PI / 180.0;
    const RADIAN2DEGREE = 180.0 / M_PI;
    ros.on("connection", function () {
      console.log("Connected to websocket server.");
    });

    ros.on("error", function (error) {
      console.log("Error connecting to websocket server: ", error);
    });

    ros.on("close", function () {
      console.log("Connection to websocket server closed.");
    });

    // Publishing a Topic
    // ------------------
    var module_control_preset = new ROSLIB.Topic({
      ros: ros,
      name: "/robotis/enable_ctrl_module",
      messageType: "std_msgs/String"
    })

    var request = new ROSLIB.ServiceRequest({});

    var init_pose = new ROSLIB.Topic({
      ros: ros,
      name: "/robotis/base/ini_pose",
      messageType: "std_msgs/String",
    });

    function initialPose() {
      let init_msg = new ROSLIB.Message({
        data: "ini_pose",
      });

      init_pose.publish(init_msg);
    }

    //QUINTIC WALK
    var set_walking_command = new ROSLIB.Topic({
      ros: ros,
      name: "/robotis/quintic_walk/command",
      messageType: "std_msgs/String",
    });

    var set_walking_param = new ROSLIB.Topic({
      ros: ros,
      name: "/robotis/quintic_walk/set_params",
      messageType: "quintic_walk_msgs/WalkingParam",
    });

    var get_walking_param_client_ = new ROSLIB.Service({
      ros: ros,
      name: "/robotis/quintic_walk/get_params",
      serviceType: "quintic_walk_msgs/GetWalkingParam",
    });

    var walking_param_ = new ROSLIB.Param({
      ros: ros,
      name: "quintic_walk_msgs/WalkingParam",
    });



    var set_walking_params = new ROSLIB.Topic({
      ros: ros,
      name: "/robotis/quintic_walk/set_params",
      messageType: "quintic_walk_msgs/WalkingParam"
    })

    function setQuinticValue(params) {
      $("#freq").val(params.freq);
      $("#double_support_ratio").val(params.doubleSupportRatio);
      $("#distance").val(params.footDistance);
      $("#rise").val(params.footRise);
      $("#put_down_z_offset").val(params.footPutDownZOffset);
      $("#put_down_phase").val(params.footPutDownPhase);
      $("#apex_phase").val(params.footApexPhase);
      $("#overshoot_ratio").val(params.footOvershootRatio);
      $("#overshoot_phase").val(params.footOvershootPhase);
      $("#height").val(params.trunkHeight);
      $("#pitch").val(params.trunkPitch * RADIAN2DEGREE);
      $("#phase").val(params.trunkPhase);
      $("#x_offset").val(params.trunkXOffset);
      $("#y_offset").val(params.trunkYOffset);
      $("#swing").val(params.trunkSwing);
      $("#pause").val(params.trunkPause);

      console.log("set quintic parameters");
    }

    var quintic_params;

    get_walking_param_client_.callService(request, function (resp) {
      quintic_params = resp.parameters;
      setQuinticValue(quintic_params);
    });

    function setModeQuintic() {

      let quintic_mode_msg = new ROSLIB.Message({
        data: "quintic_walk",
      })
      console.log("quintic mode");
      module_control_preset.publish(quintic_mode_msg)
    }
    function applyQuinticParams() {
      quintic_params.freq = Number($("#freq").val());
      quintic_params.doubleSupportRatio = Number($("#double_support_ratio").val());
      quintic_params.footDistance = Number($("#distance").val());
      quintic_params.footRise = Number($("#rise").val());
      quintic_params.footPutDownZOffset = Number($("#put_down_z_offset").val());
      quintic_params.footPutDownPhase = Number($("#put_down_phase").val());
      quintic_params.footApexPhase = Number($("#apex_phase").val());
      quintic_params.footOvershootRatio = Number($("#overshoot_ratio").val());
      quintic_params.footOvershootPhase = Number($("#overshoot_phase").val());
      quintic_params.trunkHeight = Number($("#height").val());
      quintic_params.trunkPitch = Number($("#pitch").val()) * DEGREE2RADIAN;
      quintic_params.trunkPhase = Number($("#phase").val());
      quintic_params.trunkXOffset = Number($("#x_offset").val());
      quintic_params.trunkYOffset = Number($("#y_offset").val());
      quintic_params.trunkSwing = Number($("#swing").val());
      quintic_params.trunkPause = Number($("#pause").val());
      let apply_quintic_params_msg = new ROSLIB.Message(quintic_params);
      console.log("apply parameters");
      set_walking_params.publish(apply_quintic_params_msg);
    }

    function saveQuinticParams() {
      let save_quintic_msg = new ROSLIB.Message({
        data: "save",
      });
      console.log("save parameters")
      set_walking_command.publish(save_quintic_msg);
    }

    function startQuincticWalking() {
      let x_move = Number($("#x_move").val());
      let y_move = Number($("#y_move").val());
      let z_move = Number($("#z_move").val());

      quintic_params.XMove = x_move;
      quintic_params.YMove = y_move;
      quintic_params.ZMove = z_move;

      let walking_params = new ROSLIB.Message(quintic_params);

      let walking_msg = new ROSLIB.Message({
        data: "start",
      });
      console.log("start walking")
      set_walking_param.publish(walking_params);
      set_walking_command.publish(walking_msg);

    }

    function stopQuinticWalking() {
      let walking_msg = new ROSLIB.Message({
        data: "stop",
      });
      console.log("stop walking")
      set_walking_command.publish(walking_msg);
    }

    function resetQuinticParams() {
      let default_value = "0.00";

      $("#x_move").val(default_value);
      $("#y_move").val(default_value);
      $("#z_move").val(default_value);
      setQuinticValue(quintic_params);
      console.log("reset all parameters");
    }


    //===========================================================
    // KICKING
    var kicking_params;
    var get_kicking_param_client = new ROSLIB.Service({
      ros: ros,
      name: "/alfarobi/kicking/kicking_get_params",
      serviceType: "kicking_module_msgs/GetKickingParam"
    })

    var set_kicking_param_pub = new ROSLIB.Topic({
      ros: ros,
      name: "/alfarobi/kicking/kicking_set_params",
      messageType: "kicking_module_msgs/KickingParam"
    })

    var kicking_command_pub = new ROSLIB.Topic({
      ros: ros,
      name: "/alfarobi/kicking/command",
      messageType: "std_msgs/String"
    })

    function leftKick() {
      let left_kick_msg = new ROSLIB.Message({
        data: "left_kick"
      });

      kicking_command_pub.publish(left_kick_msg)
    }

    function rightKick() {
      let right_kick_msg = new ROSLIB.Message({
        data: "right_kick"
      });

      kicking_command_pub.publish(right_kick_msg)
    }

    function setKickingValue(params) {
  
      $("#Torso_X").val(params.Torso_X);
      $("#Torso_Y").val(params.Torso_Y);
      $("#Torso_Z").val(params.Torso_Z);
      $("#L_Shift_X").val(params.L_Shift_X);
      $("#L_Shift_Y").val(params.L_Shift_Y);
      $("#L_Shift_Z").val(params.L_Shift_Z);
      $("#R_Shift_X").val(params.R_Shift_X);
      $("#R_Shift_Y").val(params.R_Shift_Y);
      $("#R_Shift_Z").val(params.R_Shift_Z);
      $("#L_Lift_X").val(params.L_Lift_X);
      $("#L_Lift_Y").val(params.L_Lift_Y);
      $("#L_Lift_Z").val(params.L_Lift_Z);
      $("#R_Lift_X").val(params.R_Lift_X);
      $("#R_Lift_Y").val(params.R_Lift_Y);
      $("#R_Lift_Z").val(params.R_Lift_Z);
      $("#L_Swing_X").val(params.L_Swing_X);
      $("#L_Swing_Y").val(params.L_Swing_Y);
      $("#L_Swing_Z").val(params.L_Swing_Z);
      $("#R_Swing_X").val(params.R_Swing_X);
      $("#R_Swing_Y").val(params.R_Swing_Y);
      $("#R_Swing_Z").val(params.R_Swing_Z);
      $("#L_Retract_X").val(params.L_Retract_X);
      $("#L_Retract_Y").val(params.L_Retract_Y);
      $("#L_Retract_Z").val(params.L_Retract_Z);
      $("#R_Retract_X").val(params.R_Retract_X);
      $("#R_Retract_Y").val(params.R_Retract_Y);
      $("#R_Retract_Z").val(params.R_Retract_Z);
      $("#Torso_Pitch").val(params.Torso_Pitch);
      $("#Shift_Roll").val(params.Shift_Roll);
      $("#Lift_Roll").val(params.Lift_Roll);
      $("#Lift_Pitch").val(params.Lift_Pitch);
      $("#Swing_Roll").val(params.Swing_Roll);
      $("#Swing_Pitch").val(params.Swing_Pitch);
      $("#Retract_Roll").val(params.Retract_Roll);
      $("#Retract_Pitch").val(params.Retract_Pitch);
      $("#SHIFT_TIME").val(params.SHIFT_TIME);
      $("#LIFT_TIME").val(params.LIFT_TIME);
      $("#SWING_TIME").val(params.SWING_TIME);
      $("#RETRACT_TIME").val(params.RETRACT_TIME);
      $("#LANDING_TIME").val(params.LANDING_TIME);
      $("#FINISHED_TIME").val(params.FINISHED_TIME);




    }

    get_kicking_param_client.callService(request, function (resp) {
      kicking_params = resp.parameters;
      
      setKickingValue(kicking_params);
    })

    function setModeKicking() {
      let kicking_mode_msg = new ROSLIB.Message({
        data: "kicking",
      })
      console.log("kicking mode");
      module_control_preset.publish(kicking_mode_msg)
    }

    function stopKicking() {
      let stop_kicking_msg = new ROSLIB.Message({
        data: "stop"
      })
      console.log("stop kicking ");
      kicking_command_pub.publish(stop_kicking_msg);

    }

    function refreshKickingParams() {
      get_kicking_param_client.callService(request, function (resp) {
        kicking_params = resp.parameters;
        console.log('refresh kick')
        setKickingValue(kicking_params);
      })
    }



    function applyKickingParams() {
         kicking_params.Torso_X     = Number($("#Torso_X").val());
         kicking_params.Torso_Y     = Number($("#Torso_Y").val());
         kicking_params.Torso_Z     = Number($("#Torso_Z").val());
   
         kicking_params.L_Shift_X   = Number($("#L_Shift_X").val());
         kicking_params.L_Shift_Y   = Number($("#L_Shift_Y").val());
         kicking_params.L_Shift_Z   = Number($("#L_Shift_Z").val());
         kicking_params.R_Shift_X   = Number($("#R_Shift_X").val());
         kicking_params.R_Shift_Y   = Number($("#R_Shift_Y").val());
         kicking_params.R_Shift_Z   = Number($("#R_Shift_Z").val());

         kicking_params.L_Lift_X    = Number($("#L_Lift_X").val()); 
         kicking_params.L_Lift_Y    = Number($("#L_Lift_Y").val()); 
         kicking_params.L_Lift_Z    = Number($("#L_Lift_Z").val()); 
         kicking_params.R_Lift_X    = Number($("#R_Lift_X").val()); 
         kicking_params.R_Lift_Y    = Number($("#R_Lift_Y").val()); 
         kicking_params.R_Lift_Z    = Number($("#R_Lift_Z").val()); 

         kicking_params.L_Swing_X    = Number($("#L_Swing_X").val()); 
         kicking_params.L_Swing_Y    = Number($("#L_Swing_Y").val()); 
         kicking_params.L_Swing_Z    = Number($("#L_Swing_Z").val()); 
         kicking_params.R_Swing_X    = Number($("#R_Swing_X").val()); 
         kicking_params.R_Swing_Y    = Number($("#R_Swing_Y").val()); 
         kicking_params.R_Swing_Z    = Number($("#R_Swing_Z").val()); 

         kicking_params.L_Retract_X    = Number($("#L_Retract_X").val());
         kicking_params.L_Retract_Y    = Number($("#L_Retract_Y").val());
         kicking_params.L_Retract_Z    = Number($("#L_Retract_Z").val());
         kicking_params.R_Retract_X    = Number($("#R_Retract_X").val());
         kicking_params.R_Retract_Y    = Number($("#R_Retract_Y").val());
         kicking_params.R_Retract_Z    = Number($("#R_Retract_Z").val());

         kicking_params.Torso_Pitch    = Number($("Torso_Pitch").val());
         kicking_params.Shift_Roll    = Number($("Shift_Roll").val());
         kicking_params.Lift_Roll    = Number($("Lift_Roll").val());
         kicking_params.Lift_Pitch    = Number($("Lift_Pitch").val());
         kicking_params.Swing_Roll    = Number($("Swing_Roll").val());
         kicking_params.Swing_Pitch    = Number($("Swing_Pitch").val());

         kicking_params.Retract_Roll    = Number($("#Retract_Roll").val());
         kicking_params.Retract_Pitch    = Number($("#Retract_Pitch").val());

         kicking_params.SHIFT_TIME    = Number($("#SHIFT_TIME").val());
         kicking_params.LIFT_TIME    = Number($("#LIFT_TIME").val());
         kicking_params.SWING_TIME    = Number($("#SWING_TIME").val());
         kicking_params.RETRACT_TIME    = Number($("#RETRACT_TIME").val());
         kicking_params.LANDING_TIME    = Number($("#LANDING_TIME").val());
         kicking_params.FINISHED_TIME    = Number($("#FINISHED_TIME").val());


      let kicking_params_msg = new ROSLIB.Message(kicking_params)

      set_kicking_param_pub.publish(kicking_params_msg);

    }

    function saveKickingParams() {
      let save_kicking_msg = new ROSLIB.Message({
        data: "save"
      })

      kicking_command_pub.publish(save_kicking_msg);

    }

    //=====================================================
    //HEAD MODULE
    var head_pan_value = 0;
    var head_tilt_value = 0;

    function setModeHeadModule(params) {
      let head_module_mode_msg = new ROSLIB.Message({
        data: "head_control_module",
      })
      console.log("Head module mode");
      module_control_preset.publish(head_module_mode_msg)
    }


    var set_head_joint_angle_pub = new ROSLIB.Topic({
      ros: ros,
      name: "/robotis/head_control/set_joint_states",
      messageType: "sensor_msgs/JointState"
    })


    $(document).on('input', '#head_pan_slider', function () {
      head_pan_value = $(this).val();
      $('#head_pan_value').html(head_pan_value);
      setHeadJoint(head_pan_value * DEGREE2RADIAN, head_tilt_value * DEGREE2RADIAN);
    });

    $(document).on('input', '#head_tilt_slider', function () {
      head_tilt_value = $(this).val();
      $('#head_tilt_value').html(head_tilt_value);
      setHeadJoint(head_pan_value * DEGREE2RADIAN, head_tilt_value * DEGREE2RADIAN);
    });

    function setHeadJoint(pan, tilt) {
      let head_angle = {
        name: [],
        position: []
      };

      head_angle.name.push('head_pan');
      head_angle.name.push('head_tilt');

      head_angle.position.push(-pan);
      head_angle.position.push(tilt);

      let head_angle_msg = new ROSLIB.Message(head_angle);

      set_head_joint_angle_pub.publish(head_angle_msg);

    }

  </script>
</body>

</html>